{% extends "base.html" %}

{% block content %}
<div class="container">
    <header class="portfolio-header">
        <h1>Meu Portfólio de Projetos</h1>
        <p>Uma coleção dos meus trabalhos e estudos recentes.</p>
    </header>

    <div class="project-grid">
        {% for project in projects %}
        <div class="project-card">
            {# Apenas mostra a imagem se um nome de arquivo existir #}
            {% if project.image_filename %}
            {# CORREÇÃO: Removido o 'uploads/' extra. O project.image_filename já contém o caminho correto. #}
            <img src="{{ url_for('static', filename=project.image_filename) }}" alt="{{ project.title }}" class="project-image">
            {% else %}
            {# Opcional: mostrar uma imagem padrão se nenhuma for fornecida #}
            <img src="{{ url_for('static', filename='images/default_project_image.png') }}" alt="Imagem padrão" class="project-image">
            {% endif %}
            
            <div class="project-info">
                <h3>{{ project.title }}</h3>
                <p>{{ project.description }}</p>
                <div class="project-links">
                    <a href="{{ url_for('main.project_detail', project_id=project.id) }}" class="btn">Ver Detalhes</a>
                    {% if project.link %}
                    <a href="{{ project.link }}" class="btn-secondary" target="_blank">Ver Projeto</a>
                    {% endif %}
                </div>
            </div>
        </div>
        {% else %}
        <p>Nenhum projeto encontrado. Adicione um novo projeto no painel de administração!</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
